---
alwaysApply: true
---
# 项目开发流程规则

## 核心开发流程规范

### 第一阶段：需求分析与设计
1. **需求分析**：
   - 当接收到原型或UI界面时，必须首先进行需求分析
   - 编写详细的需求文档，包括：
     - 功能模块梳理与描述
     - 用户场景和使用流程
     - 技术实现考量
   - 输出开发方案，包括：
     - 整体代码结构设计
     - 技术栈选择说明
     - 模块间依赖关系

2. **等待人工审核**：
   - 完成需求文档后，必须主动提示"需求分析已完成，请审核"
   - 等待人工确认后才能进入下一阶段


### 第二阶段：UI界面实现
1. **界面开发**：
   - 严格按照提供的原型或UI设计图实现界面
   - 确保布局、样式、交互元素与设计一致
   - 保持响应式设计和可访问性
2. **样式与交互优化**

   - 全局样式（`src/styles/index.scss`）
   - 表格样式优化
   - 配置面板样式
   - 响应式布局
   - 加载状态提示
   - 错误提示
   - 成功提示
   - 表单验证
   - 数据格式化（金额、百分比等）

3. **界面审核**：
   - 完成每个页面的UI实现后，必须提示"UI界面已实现，请审核"
   - 等待人工确认界面效果后才能进入功能开发

### 第三阶段：功能开发（迭代式）
1. **功能拆分**：
   - 将完整功能拆分为独立的功能点
   - 按优先级和依赖关系排序功能点列表

2. **单个功能开发流程**：
   - 每次只开发一个功能点
   - 完成后必须提示"[功能名称]已实现，请审核"
   - 等待人工确认该功能正常工作
   - 只有获得批准后才能开始下一个功能点

3. **测试要求**：
- 功能测试
   - 每个功能点必须包含相应的测试代码
   - 确保功能点不影响现有功能
- 兼容性测试（浏览器兼容性测试、数据边界处理）
- 性能优化（表格虚拟滚动（如数据量大）、防抖节流处理）

### 第四阶段：新增需求处理
1. **需求变更流程**：
   - 任何新增需求都必须首先更新需求文档
   - 分析新需求对现有系统的影响
   - 提出详细的开发思路和实施方案

2. **审核机制**：
   - 输出"新增需求分析报告"，包含：
     - 需求描述和背景
     - 技术实现方案
     - 预计工作量和风险
   - 必须明确提示"新增需求方案已准备，请审核确认"
   - 只有在收到人工明确的开发指令后才能开始编码

## 沟通与协作规范

### 状态汇报
- 在每个阶段结束时主动汇报进度
- 明确说明下一步计划
- 遇到问题时及时提出并提供解决方案建议

### 文档维护
各模块的具体需求文档请建立对应的 `plan.md` 文件：
例如：头寸规划模块：`src/views/position-planning/plan.md`
- 保持所有文档的实时更新
- 版本变更时记录修改日志
- 确保文档与代码实现的一致性

### 审核节点
以下是必须等待人工审核的关键节点：
1. 需求文档完成时
2. 每个UI页面完成时
3. 每个独立功能点完成时
4. 新增需求方案制定后
5. 任何架构变更前

## 开发原则

1. **循序渐进**：不跳过任何审核环节
2. **透明沟通**：主动汇报，不隐藏问题
3. **质量优先**：每个环节确保质量后再推进
4. **文档驱动**：所有变更都要文档先行
5. **安全稳定**：不影响现有功能的正常运行

---

**规则执行确认**：我会严格按照上述流程执行开发任务，确保每个环节都经过人工审核确认后再继续。每次需要审核时，我会明确提示您并提供必要的说明信息。





